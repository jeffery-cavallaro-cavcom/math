\documentclass[letterpaper,12pt,fleqn]{article}
\usepackage{matharticle}
\pagestyle{empty}
\newcommand{\vb}{\vec{b}}
\newcommand{\vx}{\vec{x}}
\newcommand{\vy}{\vec{y}}
\newcommand{\vz}{\vec{z}}
\newcommand{\vo}{\vec{0}}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\inner}[1]{\left<#1\right>}
\newcommand{\conj}[1]{\overline{#1}}
\newcommand{\F}{\mathbb{F}}
\renewcommand{\l}{\lambda}
\DeclareMathOperator{\spn}{Span}
\DeclareMathOperator{\proj}{proj}
\begin{document}
\section*{Gram-Schmidt}

\begin{theorem}[Gram-Schmidt]
  Let $E$ be an inner product space over a field $\F$ and let
  $\{\vx_1,\ldots\vx_n\}$ be an independent set in $E$:
  \[\vy_1=\vx_1\]
  \[\vy_n=\vx_n-\sum_{k=1}^{n-1}\frac{\inner{\vx_n,\vy_k}}{\norm{\vy_k}}\vy_k\]
  form an orthogonal system in $E$.
  
  Furthermore:
  \[\spn\{\vx_1,\ldots,\vx_n\}=\spn\{\vy_1,\ldots,\vy_n\}\]
  Thus, an equivalent orthonormal system can be generated by:
  \[\left\{\frac{\vy_k}{\norm{\vy_k}^2}\middle|1\le k\le n\right\}\]
\end{theorem}

\begin{theproof}
  By induction on $n$.
  \begin{description}
  \item Base case: $n=2$
    \begin{eqnarray*}
      \inner{\vy_2,\vy_1} &=&
      \inner{\vx_2-\frac{\inner{\vx_2,\vy_1}}{\norm{\vy_1}^2}\vy_1,\vy_1} \\
      &=& \inner{\vx_2-\frac{\inner{\vx_2,\vx_1}}{\norm{\vx_1}^2}\vx_1,\vx_1} \\
      &=& \inner{\vx_2,\vx_1}-
      \frac{\inner{\vx_2,\vx_1}}{\norm{\vx_1}^2}\inner{\vx_1,\vx_1} \\
      &=& \inner{\vx_2,\vx_1}-
      \frac{\inner{\vx_2,\vx_1}}{\norm{\vx_1}^2}\norm{\vx_1}^2 \\
      &=& \inner{\vx_2,\vx_1}-\inner{\vx_2,\vx_1} \\
      &=& 0
    \end{eqnarray*}
    $\therefore\vy_2\perp\vy_1$

  \item Assume $\{\vy_1,\ldots,\vy_n$ is an orthogonal set.

  \item Assume $1\le m<n$.
    \begin{eqnarray*}
      \inner{\vy_n,\vy_m} &=& 
      \inner{\vx_n-
        \sum_{k=1}^{n-1}\frac{\inner{\vx_n,\vy_k}}{\norm{\vy_k}^2}\vy_k,\vy_m} \\
      &=& \inner{\vx_n,\vy_m}-
      \inner{\sum_{k=1}^{n-1}\frac{\inner{\vx_n,\vy_k}}{\norm{\vy_k}^2}\vy_k,
        \vy_m} \\
      &=& \inner{\vx_n,\vy_m}-
      \frac{\inner{\vx_n,\vy_m}}{\norm{\vy_m}^2}\inner{\vy_m,\vy_m} \\
      &=& \inner{\vx_n,\vy_m}-
      \frac{\inner{\vx_n,\vy_m}}{\norm{\vy_m}^2}\norm{\vy_m}^2 \\
      &=& \inner{\vx_n,\vy_m}-\inner{\vx_n,\vy_m} \\
      &=& 0
    \end{eqnarray*}
    $\therefore\vy_n\perp\vy_m$ and thus $\{\vy_1,\ldots,\vy_n\}$ is an
    orthogonal system in $E$.
  \end{description}
\end{theproof}

Why does this work?

Let $E$ be an inner product space and let $S$ be a finite dimensional
subspace of $E$. Assume $\vx\in E$.

\begin{minipage}{3in}
  \begin{tikzpicture}
    \draw (0,0) -- (5,0) -- (6,2) -- (1,2) -- cycle;
    \node at (0.75,0.5) {$S$};
    \node [draw,circle,fill,scale=0.5] (z) at (2,1) {};
    \node [below] at (z) {$\vo$};
    \node [scale=0.01] (x) at (4,3) {};
    \draw [->] (z) to node [left,pos=0.75] {$\vx$} (x);
    \node [scale=0.01] (y) at (4,1) {};
    \draw [->] (z) to node [below] {$\vy$} (y);
    \draw [->,dashed] (y) to node [right,pos=0.25] {$\vx-\vy$} (x);
  \end{tikzpicture}
\end{minipage}
\begin{minipage}{3in}
  $d(\vx,S)=\inf_{\vy\in S}\norm{\vx-\vy}$
\end{minipage}

\begin{definition}
  Let $E$ be a finite dimensional inner product space where $\dim E=n$ and let
  $S$ be a subspace of $E$ with orthonormal basis $\{\vb_1,\ldots,\vb_r\}$
  where $r\le n$. $\forall\,\vx\in E$, the \emph{projection} of $\vx$ on $S$,
  denoted $\proj_S{\vx}$, is given by:
  \[\proj_S{\vx}=\sum_{k=1}^r\inner{\vx,\vb_k}\vb_k\]
\end{definition}

\begin{lemma}
  Let $E$ be a finite dimensional inner product space over a field $\F$ and let
  $S$ be a subspace of $E$ where $\dim{S}=n$. Let $\vx\in E$ and
  $\vy_0=\proj_S{\vx}$:
  \[\vx-\vy_0\perp S\]
\end{lemma}

\begin{theproof}
  Assume $\{\vb_1,\ldots,\vb_n\}$ is an orthonormal basis for $S$. \\
  Assume $\vy\in S$. \\
  $\exists\,\l_k\in\F$ such that $\vy=\sum_{k=1}^n\l_k\vb_k$ \\
  \begin{eqnarray*}
    \inner{\vx-\vy_0,\vy} &=& \inner{\vx-\proj_S{\vx},\vy} \\
    &=& \inner{\vx-\sum_{k=1}^n\inner{\vx,\vb_k}\vb_k,\sum_{j=1}^n\l_j\vb_j} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-
    \inner{\sum_{k=1}^n\inner{\vx,\vb_k}\vb_k,\sum_{j=1}^n\l_j\vb_j} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-
    \sum_{k=1}^n\inner{\inner{\vx,\vb_k}\vb_k,\l_k\vb_k} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-
    \sum_{k=1}^n\inner{\vx,\vb_k}\conj{\l_k}\inner{\vb_k,\vb_k} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-
    \sum_{k=1}^n\inner{\vx,\vb_k}\conj{\l_k} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-\sum_{k=1}^n\inner{\vx,\l_k\vb_k} \\
    &=& \inner{\vx,\sum_{k=1}^n\l_k\vb_k}-\inner{\vx,\sum_{k=1}^n\l_k\vb_k} \\
    &=& 0
  \end{eqnarray*}
  $\therefore\vx-\vy_0\perp S$
\end{theproof}

\begin{theorem}
  Let $E$ be a finite dimensional inner product space, let $S$ be a subspace of
  $E$, and let $\vx\in E$ and $\vy_0=\proj_S\vx$:
  \[d(\vx,S)=\norm{\vx-\vy_0}\]
\end{theorem}

\begin{theproof}
  Note that $\vy_0\in S$. \\
  Assume $\vy\in S$. \\
  $\norm{\vx-\vy}^2=\norm{(\vx-\vy_0)+(\vy_0-\vy)}^2=
  \norm{\vx-\vy_0}^2+\norm{\vy_0-\vy}^2\ge\norm{\vx-\vy_0}^2$ \\
  So, $\forall\,\vy\in S,\norm{\vx-\vy_0}\le\norm{\vx-\vy}$.

  $\therefore d(\vx,S)=\vx-\vy_0$
\end{theproof}

\newpage

\begin{corollary}
  Let $E$ be a finite dimensional inner product space, let $S$ be a subspace of
  $E$, and let $\vx\in E$ and $\vy_0\in S$ such that
  $d(\vx,S)=\norm{\vx-\vy_0}$:

  \qquad$\vy_0$ is unique.
\end{corollary}

\begin{theproof}
  Assume $\exists\vy_0\,'\in S$ such that $d(\vx,S)=\norm{\vx-\vy_0\,'}$. \\
  $\abs{\norm{\vx-\vy_0}-\norm{\vx-\vy_0\,'}}\le
  \norm{(\vx-\vy_0)-(\vx-\vy_0\,')}=\norm{\vy_0\,'-\vy_0'}=0$

  Therefore $\vy_0\,'-\vy_0'=\vo$ and so $\vy_0=\vy_0'$.
\end{theproof}

Thus, we can rewrite Gram-Schmidt as:
\[\vy_1=\vx_1\]
\[\vy_n=\vx_n-\sum_{k=1}^{n-1}\proj_{\vy_k}\vx_k=
\vx_n-\proj_{\spn\{\vy_1,\ldots,\vy_{n-1}\}}\vx\]
\end{document}
